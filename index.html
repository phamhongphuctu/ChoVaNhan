<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cho và Nhận Miễn Phí</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <style>
        body {
    font-family: Arial, sans-serif;
    margin: 0;
    padding: 0;
    background-color: #9b59b6;
    color: white;
}

header {
    padding: 20px;
    text-align: center;
    background-color: #7d3c98;
    color: white;
}

.main-container {
    display: flex;
    flex-direction: column;
    gap: 20px;
    padding: 20px;
    max-width: 800px;
    margin: 0 auto;
}

.form-container, .posts-container {
    background-color: white;
    color: black;
    padding: 20px;
    border-radius: 10px;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
}

input, textarea, select, button {
    width: 100%;
    padding: 10px;
    margin-bottom: 15px;
    font-size: 1em;
    border: 1px solid #ddd;
    border-radius: 5px;
}

button {
    background-color: #7d3c98;
    color: white;
    border: none;
    cursor: pointer;
}

button:hover {
    background-color: #5a266e;
}

.card {
    background-color: #f4f4f4;
    margin-bottom: 15px;
    padding: 15px;
    border-radius: 5px;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}

.card img {
    width: 100%;
    height: auto;
    border-radius: 5px;
    margin-bottom: 10px;
}

.card h3 {
    margin: 0 0 10px;
    font-size: 1.2em;
}

        @media (max-width: 768px) {
            .main-container {
                padding: 10px;
            }

            input, textarea, select, button {
                font-size: 0.9em;
                padding: 8px;
            }
        }
    </style>
</head>
<body>
    <header>
        <h1>Cho và Nhận Miễn Phí</h1>
    </header>
</body>
<script>
    // Danh sách bài đăng
    const posts = JSON.parse(localStorage.getItem("posts")) || [];

    // Tải bài đăng lên giao diện
    function loadPosts() {
        const postsContainer = document.getElementById("postsContainer");
        postsContainer.innerHTML = "";
        posts.forEach((post, index) => {
            const card = document.createElement("div");
            card.className = "card";
            card.innerHTML = `
                <h3>${post.type}: ${post.name}</h3>
                <p>${post.content}</p>
                <img src="${post.image || 'https://via.placeholder.com/100'}" alt="Hình ảnh bài đăng">
                <button onclick="deletePost(${index})">Xóa</button>
            `;
            postsContainer.appendChild(card);
        });
    }

    // Xóa bài đăng
    function deletePost(index) {
        posts.splice(index, 1);
        localStorage.setItem("posts", JSON.stringify(posts));
        loadPosts();
    }

    // Xử lý form đăng bài
    document.getElementById("postForm").addEventListener("submit", function (e) {
        e.preventDefault();
        const name = document.getElementById("name").value;
        const content = document.getElementById("content").value;
        const type = document.getElementById("type").value;
        const image = document.getElementById("image").files[0];

        const reader = new FileReader();
        reader.onload = function () {
            posts.push({
                name,
                content,
                type,
                image: reader.result,
            });
            localStorage.setItem("posts", JSON.stringify(posts));
            loadPosts();
            alert("Bài đăng đã được lưu!");
        };
        if (image) {
            reader.readAsDataURL(image);
        } else {
            posts.push({ name, content, type, image: "" });
            localStorage.setItem("posts", JSON.stringify(posts));
            loadPosts();
            alert("Bài đăng đã được lưu!");
        }

        this.reset();
    });

    // Tải bài viết khi trang được load
    window.onload = loadPosts;
</script>
</html>
